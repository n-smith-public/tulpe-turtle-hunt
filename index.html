<!DOCTYPE html>
<html>
<head>
    <title>Welcome</title>
    <link rel="stylesheet" href="CSS/title.css">
    <meta charset="utf-8">
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0">
    <script src="display-settings.js"></script>
</head>
<body>
    <div class="titleBackground">
        <div class="foregroundContainer">
            <div class="contentContainer">
                <h1 class="titleText">Welcome!</h1>
                <div class="introText">
                    <p>Hello! You have reached <b><a href="https://turtle.greenbueller.com">turtle.greenbueller.com!</a></b></p>
                    <p>This is an experiment being conducted at <a href="https://noac2024.oa-bsa.org/">NOAC 2024</a> in Boulder, Colorado. The experiment is where there are small turtle clips left 
                        around NOAC, and you found one! If you are interested, please click continue and put in some of your information. Please note that only first name is required. I am not going to sell 
                        any of the data, this is only for me to see who finds the turtles. All data is kept securely on a remote server that only I have access to.</p>
                    <br>
                    <p>All I ask is that after you find one you go and rehide it.</p>
                    <div id ="rowCountContainer">
                        <h3>Turtles Found So Far: </h3>
                        <h3 id="rowCount"></h3>
                    </div>
                    <br>
                    <div class="buttonContainer">
                        <form>
                            <button type="button" onclick="moveToAbout()">
                                About
                            </button>
                            <button type="button" onclick="moveToSubmissionPage()">
                                Continue
                            </button>
                        </form>
                    </div>
                    <script>
                        function moveToSubmissionPage() {
                            window.location.href = '/submit';
                        }
                        function moveToAbout() {
                            window.location.href = '/about';
                        }
                    </script>
                </div>
            </div>

            <script>
                async function fetchRowCount() {
                    try {
                        const response = await fetch('/userData/count');
                        if (!response.ok) {
                            throw new Error('Failed to fetch row count');
                        }
                        const data = await response.json();
                        document.getElementById('rowCount').textContent = data.count - 1;
                    } catch (error) {
                        console.error('Error fetching row count: ', error);
                    }
                }

                fetchRowCount();
            </script>
        </div>
    </div>
</body>
</html>